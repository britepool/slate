## Ad Win Notification - DSP
Whenever a bid wins an auction at the publisher's ad server, BritePool will notify the DSP via an *Ad Win Notification*. All the information regarding the winning bid are included in the associated "adWin" metric.


<%= partial "includes/javascript_example.md.erb" %>
<%= partial "includes/request_image_pixel_html.md.erb" %>
> The above command returns JSON structured like this:

```json
"OK"
```

### HTTP Request

Ad Win Notifications are sent via the HTTP protocol.

`POST ` <%= config[:metrics_endpoint] %>

### Query Parameters

All Ad Win Notifications use the "AdWin" metric type, which contains the following POST data parameters.

Parameter | Required | Type | Description
--------- | -------- | --------- | -----------
t | true | string | Metric type. A unique identifier that specifies the curernt metric type. For Ad Win Notifications it must be set to "adWin".
d | true | string | Requesting domain. The domain of the site requesting the bid.
pu | true |  string | Publisher ID. The unique ID assigned to the publisher who is requesting the bid.
si | true | string | Site ID. The unique ID of the site in the SSP's system which is included in the OpenRTB request.
bp | true | string | BritePool ID. The unique ID assigned by BritePool to the identified user. It is provided in the bid stream request to the SSP/DSP.
o | false | object | Other user IDs. A JSON object that includes other user identifies in key-value pairs, where the key is the type of user ID, for example "DigiTrust", and the value is the corresponing ID assigned to the current user.
sz | true | string | Size. Size of the delivered creative. It should be in the form widthxheight, for example, "728x90".
c | true | string | CPM. The CPM of the final bid price. It is in dollars and cents, for instance, "5.7345".
ct | false | string | Creative type. The creative type, such as "display", "video", "outstream".
bi | true | string | Buyer ID. The unique ID in the DSP system of the agency or advertiser that won the bid.
aid | true | string | Auction ID. The unique auction ID provided by the SSP in the OpenRTB bid request.
cs | false | string | Consent string. The IAB consent string for GDPR compliance. If a consent string is provided in the bid request, it *must* be included in the Ad Win Notification.
di | false | string | Deal ID. If the bid has an associated deal ID, it should be provided in this field.
ss | false | string | SSP name. The name or ID of the SSP that requested the bid.
a |  false | string | API key. This is the API key that should be included in the header of image/pixel type requests and notifications. *This parameter is only applicable to image/pixel type requests.
